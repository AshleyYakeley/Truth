name: truth-core
version: "0.1"
_common: !include "../common.yaml"
<<: *author

<<: *language

library:
    source-dirs: lib
    dependencies:
      - base >= 4.9 && < 5
      - time
      - stm
      - containers
      - filepath
      - directory
      - cereal
      - uuid
      - aeson
      - sqlite-simple
      - mime
      - shapes
    exposed-modules:
      - Truth.Core
      - Truth.Debug
      - Truth.Debug.Object
      - Truth.World.Anything
      - Truth.World.File
      - Truth.World.FileSystem
      - Truth.World.ObjectStore
      - Truth.World.Charset
      - Truth.World.MIME
      - Truth.World.JSON
      - Truth.World.SQLite
      - Truth.World.SQLite.Schema
    other-modules:
      - Truth.Core.Import
      - Truth.Core.Sequence
      - Truth.Core.Read.MutableRead
      - Truth.Core.Read.SubjectReader
      - Truth.Core.Read.FullSubjectReader
      - Truth.Core.Read
      - Truth.Core.Edit.Edit
      - Truth.Core.Edit.FullEdit
      - Truth.Core.Edit.Cache
      - Truth.Core.Edit.Unlift
      - Truth.Core.Edit.Function
      - Truth.Core.Edit.Lens
      - Truth.Core.Edit
      - Truth.Core.Types.None
      - Truth.Core.Types.Whole
      - Truth.Core.Types.WholeEditFunction
      - Truth.Core.Types.Unit
      - Truth.Core.Types.Sum
      - Truth.Core.Types.SumWhole
      - Truth.Core.Types.OneReader
      - Truth.Core.Types.OneEdit
      - Truth.Core.Types.OneWholeEdit
      - Truth.Core.Types.Either
      - Truth.Core.Types.Comonad
      - Truth.Core.Types.Tuple
      - Truth.Core.Types.ConsTuple
      - Truth.Core.Types.EitherTuple
      - Truth.Core.Types.Pair
      - Truth.Core.Types.Lattice
      - Truth.Core.Types.Function
      - Truth.Core.Types.Context
      - Truth.Core.Types.List
      - Truth.Core.Types.String
      - Truth.Core.Types.ByteString
      - Truth.Core.Types.Key
      - Truth.Core.Types.FiniteSet
      - Truth.Core.Types.Database
      - Truth.Core.Types.Database.Show
      - Truth.Core.Types.Database.Tuple
      - Truth.Core.Types.Database.Tuple.Show
      - Truth.Core.Types
      - Truth.Core.Object.DeferActionT
      - Truth.Core.Object.Object
      - Truth.Core.Object.AutoClose
      - Truth.Core.Object.ObjectEdit
      - Truth.Core.Object.Update
      - Truth.Core.Object.Subscriber
      - Truth.Core.Object.Lens
      - Truth.Core.Object.Tuple
      - Truth.Core.Object.Editor
      - Truth.Core.Object.AsyncPush
      - Truth.Core.Object.Cache
      - Truth.Core.Object.Savable
      - Truth.Core.Object.Undo
      - Truth.Core.Object
      - Truth.Core.UI.Request
      - Truth.Core.UI.Specifier.Specifier
      - Truth.Core.UI.Specifier.Null
      - Truth.Core.UI.Specifier.Lens
      - Truth.Core.UI.Specifier.CSS
      - Truth.Core.UI.Specifier.Button
      - Truth.Core.UI.Specifier.One
      - Truth.Core.UI.Specifier.Switch
      - Truth.Core.UI.Specifier.Layout
      - Truth.Core.UI.Specifier.Pages
      - Truth.Core.UI.Specifier.Icon
      - Truth.Core.UI.Specifier.Label
      - Truth.Core.UI.Specifier.Checkbox
      - Truth.Core.UI.Specifier.Option
      - Truth.Core.UI.Specifier.TextEntry
      - Truth.Core.UI.Specifier.TextEditor
      - Truth.Core.UI.Specifier.Table
      - Truth.Core.UI.Specifier.Drag
      - Truth.Core.UI.ViewContext
      - Truth.Core.UI.View
      - Truth.Core.UI.CreateView
      - Truth.Core.UI.DynamicView
      - Truth.Core.UI.GetView
      - Truth.Core.UI

tests:
  test:
    source-dirs: test
    dependencies:
      - base >= 4.9 && < 5
      - bytestring
      - containers
      - countable
      - open-witness
      - template-haskell
      - transformers
      - transformers-extra
      - witness
      - comonad
      - mono-traversable
      - shapes
      - truth-core
      - QuickCheck
      - tasty
      - tasty-hunit
      - tasty-quickcheck
      - tasty-golden
    main: Main.hs
    other-modules:
      - Subscribe
