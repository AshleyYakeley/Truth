name: truth-core
version: "0.1"
_common: !include "../common.yaml"
<<: *author

<<: *language

library:
    source-dirs: lib
    dependencies:
      - shapes
      - base >= 4.12
      - time
    exposed-modules:
      - Truth.Core
    other-modules:
      - Truth.Core.Import
      - Truth.Core.Sequence
      - Truth.Core.Resource.Function
      - Truth.Core.Resource.SingleRunner
      - Truth.Core.Resource.ResourceRunner
      - Truth.Core.Resource.Runnable
      - Truth.Core.Resource
      - Truth.Core.Read.MutableRead
      - Truth.Core.Read.SubjectReader
      - Truth.Core.Read.FullSubjectReader
      - Truth.Core.Read
      - Truth.Core.Edit.Edit
      - Truth.Core.Edit.Update
      - Truth.Core.Edit.FullEdit
      - Truth.Core.Edit.Cache
      - Truth.Core.Lens.Lens
      - Truth.Core.Lens.Floating
      - Truth.Core.Lens.State
      - Truth.Core.Lens
      - Truth.Core.Types.Partial
      - Truth.Core.Edit.Opaque
      - Truth.Core.Edit
      - Truth.Core.Types.None
      - Truth.Core.Types.ReadOnly
      - Truth.Core.Types.Reject
      - Truth.Core.Types.Whole
      - Truth.Core.Types.WholeUpdateFunction
      - Truth.Core.Types.Unit
      - Truth.Core.Types.Sum
      - Truth.Core.Types.SumWhole
      - Truth.Core.Types.One.Read
      - Truth.Core.Types.One.Edit
      - Truth.Core.Types.One.Result
      - Truth.Core.Types.One.FullResult
      - Truth.Core.Types.Either
      - Truth.Core.Types.Comonad
      - Truth.Core.Types.Tuple.Tuple
      - Truth.Core.Types.Tuple.Cons
      - Truth.Core.Types.Tuple.Either
      - Truth.Core.Types.Tuple.Pair
      - Truth.Core.Types.Lattice
      - Truth.Core.Types.Tuple.Function
      - Truth.Core.Types.WholeFunction
      - Truth.Core.Types.Set
      - Truth.Core.Types.Tuple.Dependent
      - Truth.Core.Types.Tuple.Context
      - Truth.Core.Types.List.Read
      - Truth.Core.Types.List.Edit
      - Truth.Core.Types.List.Update
      - Truth.Core.Types.List.Ordered
      - Truth.Core.Types.List
      - Truth.Core.Types.String
      - Truth.Core.Types.ByteString
      - Truth.Core.Types.Key.HasKey
      - Truth.Core.Types.Key.Key
      - Truth.Core.Types.Key.Order
      - Truth.Core.Types.Key.FiniteSet
      - Truth.Core.Types.Database
      - Truth.Core.Types.Database.Show
      - Truth.Core.Types.Database.Tuple
      - Truth.Core.Types.Database.Tuple.Show
      - Truth.Core.Types
      - Truth.Core.Object.DeferActionT
      - Truth.Core.Object.EditContext
      - Truth.Core.Object.Object
      - Truth.Core.Object.AutoClose
      - Truth.Core.Object.ObjectEdit
      - Truth.Core.Object.ObjectMaker
      - Truth.Core.Object.Subscriber
      - Truth.Core.Object.Tuple
      - Truth.Core.Object.MemoryCell
      - Truth.Core.Object.Editor
      - Truth.Core.Object.Cache
      - Truth.Core.Object.Savable
      - Truth.Core.Object.Undo
      - Truth.Core.Object
      - Truth.Core.UI.Request
      - Truth.Core.UI.TextStyle
      - Truth.Core.UI.Specifier.Specifier
      - Truth.Core.UI.Specifier.Null
      - Truth.Core.UI.Specifier.Map
      - Truth.Core.UI.Specifier.Selection
      - Truth.Core.UI.Specifier.CSS
      - Truth.Core.UI.Specifier.Button
      - Truth.Core.UI.Specifier.One
      - Truth.Core.UI.Specifier.Switch
      - Truth.Core.UI.Specifier.Layout
      - Truth.Core.UI.Specifier.Pages
      - Truth.Core.UI.Specifier.Icon
      - Truth.Core.UI.Specifier.Label
      - Truth.Core.UI.Specifier.Checkbox
      - Truth.Core.UI.Specifier.Option
      - Truth.Core.UI.Specifier.TextEntry
      - Truth.Core.UI.Specifier.TextEditor
      - Truth.Core.UI.Specifier.Table
      - Truth.Core.UI.Specifier.Drag
      - Truth.Core.UI.Specifier.MenuBar
      - Truth.Core.UI.Specifier.Scrolled
      - Truth.Core.UI.Specifier.Calendar
      - Truth.Core.UI.View.Context
      - Truth.Core.UI.View.View
      - Truth.Core.UI.Window
      - Truth.Core.UI.Toolkit
      - Truth.Core.UI.View.CreateView
      - Truth.Core.UI.View.Dynamic
      - Truth.Core.UI.GetView
      - Truth.Core.UI

tests:
  test:
    source-dirs: test
    dependencies:
      - base >= 4.12
      - bytestring
      - containers
      - countable
      - open-witness
      - template-haskell
      - transformers
      - transformers-extra
      - witness
      - comonad
      - mono-traversable
      - shapes
      - truth-core
      - filepath
      - directory
      - QuickCheck
      - tasty
      - tasty-expected-failure
      - tasty-hunit
      - tasty-quickcheck
      - tasty-golden
    main: Main.hs
    other-modules:
      - Test.Useful
      - Test.SimpleString
      - Resource
      - Subscribe
      - Lens
    ghc-options: -threaded
