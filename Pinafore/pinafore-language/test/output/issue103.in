#!/usr/bin/pinafore

let

e1: Entity
= ();

f: WholeModel a -> Unit
= fn _ => ();

in do
    (model,_) <- newMemWholeModel >>= fn model => return (model, f model);
    model := e1;
    e2 <- get model;
    Debug.checkEntity "CHECK e1" e1;
    Debug.checkEntity "CHECK e2" e2;
    Context.outputLn "LAST";
    end
