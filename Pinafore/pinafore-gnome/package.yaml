_common: !include "../../common.yaml"
name: pinafore-gnome
version: *pinafore_version
<<: *author

<<: *language

library:
    source-dirs: lib
    dependencies:
      - base >= 4.16
      - shapes
      - time
      - polar-shim
      - typed-expression
      - Color
      - gi-cairo-render
      - gi-gio
      - gi-gdk
      - gi-gtk
      - thread-trace
      - changes-core
      - changes-world
      - changes-media
      - changes-gnome
      - pinafore-base
      - pinafore-language
      - pinafore-media
    exposed-modules:
      - Pinafore.Language.Library.GNOME
    other-modules:
      - Pinafore.Language.Library.GIO
      - Pinafore.Language.Library.GTK.Context
      - Pinafore.Language.Library.GTK.Element.Context
      - Pinafore.Language.Library.GTK.Element.Drawing
      - Pinafore.Language.Library.GTK.Element
      - Pinafore.Language.Library.GTK.MenuItem
      - Pinafore.Language.Library.GTK.Clipboard
      - Pinafore.Language.Library.GTK.Window
      - Pinafore.Language.Library.GTK.Debug
      - Pinafore.Language.Library.GTK

tests:
    test:
        source-dirs: test
        dependencies:
          - base >= 4.16
          - shapes
          - filepath
          - gi-gtk
          - gi-gobject
          - haskell-gi-base
          - thread-trace
          - changes-core
          - changes-gnome
          - pinafore-language
          - pinafore-gnome
        main: Main.hs
        other-modules:
          - Test.Context
          - Test.GTK
          - Test.UI
        ghc-options: -threaded
