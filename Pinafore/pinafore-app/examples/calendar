#!/usr/bin/pinafore
let

import UI();

dateText: Date ~> Text;
dateText = property @Date @Text !"example.calendar:dateText";

ui: WholeRef Date -> UI.Element;
ui r = UI.vertical
    [
    UI.horizontal
        [
        UI.button {"<"} {do d <- get r; r := addDays (-1) d; end},
        UI.layoutGrow $ UI.label {unixFormatDate "%A, %B %e, %Y" %r},
        UI.button {">"} {do d <- get r; r := addDays 1 d; end}
        ],
    UI.layoutGrow $ UI.textArea $ dateText !$ r
    ];

in do
    r <- newMemWhole;
    d <- getDate;
    r := d;
    UI.openWindow (300,400) {show %r} {[]} $ ui r;
    end
