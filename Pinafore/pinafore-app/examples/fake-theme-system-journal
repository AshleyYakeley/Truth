#!/usr/bin/pinafore
let
    import "uistuff/selection";
in run.UIContext $ fn uicontext@MkUIContext =>
let

    import "uistuff/named";
    MkProps.Named = mkProps.Named store;
    MkUI.Named = mkUI.Named uicontext;

    import "pinafore-gnome";

using Store;

years: FiniteSetModel Integer
= property @Integer @Unit !"FTSJ.years" store !@ {()};

yearTheme: Property Integer Text
= property @Integer @Text !"FTSJ.yearTheme" store;

using GTK;

frontCoverPane: Pane
= simple.Pane "Cover" $ styleSheet {"* {font-size: 32pt;}"} $ label {"FAKE\nTHEME\nSYSTEM\nJOURNAL"};

getThemesPane: Action Pane
= pure $ simple.Pane "Themes" $ blank;

daysPane: Pane
= simple.Pane "Days" $ blank;

createMainPane: Action Pane
= do
    themesPane <- getThemesPane;
    notebook.Pane {"Fake Theme System Journal"} [frontCoverPane,themesPane,daysPane];
    end;

in do
    mainPane <- createMainPane;
    paneWindow mainPane;
    end
