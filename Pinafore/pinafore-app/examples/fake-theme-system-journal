#!/usr/bin/pinafore
let
import "pinafore-gnome";
import "uistuff/selection";
import "uistuff/named";
in run.UIContext $ fn uicontext@MkUIContext =>
mkProps.Named store >- fn MkProps.Named =>
mkUI.Named uicontext >- fn MkUI.Named =>
let
using Store;

years: FiniteSetModel Integer
= property @Integer @Unit !"FTSJ.years" store !@ {()};

yearTheme: Property Integer Text
= property @Integer @Text !"FTSJ.yearTheme" store;

using GTK;

frontCoverPane: Pane
= simple.Pane "Cover" $ styleSheet {"* {font-size: 32pt;}"} $ label {"FAKE\nTHEME\nSYSTEM\nJOURNAL"};

getThemesPane: Action Pane
= pure $ simple.Pane "Themes" $ blank;

daysPane: Pane
= simple.Pane "Days" $ blank;

createMainPane: Action Pane
= do
    themesPane <- getThemesPane;
    notebook.Pane {"Fake Theme System Journal"} [frontCoverPane,themesPane,daysPane];
    end;

in do
    mainPane <- createMainPane;
    paneWindow mainPane;
    end
