---
"$schema": https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json
name: Pinafore
patterns:
- include: "#block_comment"
- include: "#comments"
- include: "#keywords"
- include: "#types"
- include: "#strings"
- include: "#anchors"
repository:
  block_comment:
    applyEndPatternLast: 1
    begin: "{#"
    captures:
      '0':
        name: punctuation.definition.comment.pinafore
    end: "#}"
    name: comment.block.pinafore
    patterns:
    - include: "#block_comment"
  comments:
    name: comment.line.pinafore
    begin: "#"
    end: "$"
    patterns: []
  keywords:
    patterns:
    - name: keyword.control.pinafore
      match: "\\b(fn|match|rec|if|then|else|let|import|expose|namespace|using|as|in|do|case|of|end)\\b"
    - name: keyword.declaration.pinafore
      match: "\\b(datatype|opentype|subtype|storable|dynamictype)\\b"
    - name: constant.other.predefined.pinafore
      match: "\\b(property|openEntity|newOpenEntity|evaluate)\\b"
  types:
    patterns:
    - name: storage.type.predefined.pinafore
      match: "\\b(Any|None|Unit|Literal|Text|Number|Rational|Integer|Boolean|Ordering|Time|Duration|Date|TimeOfDay|LocalTime|Entity|DynamicEntity|Maybe|List|List1|ModelOrder|Action|WholeModel|SetModel|FiniteSetModel|ListModel|TextModel|Context|Element|Window|MenuItem)\\b"
  strings:
    name: string.quoted.double.pinafore
    begin: "\""
    end: "\""
    patterns:
    - name: constant.character.escape.pinafore
      match: "\\\\."
  anchors:
    patterns:
    - name: constant.anchor.hex.pinafore
      match: "![-0-9A-Fa-f]+"
    - name: constant.anchor.string.pinafore
      begin: '!"'
      end: "\""
      patterns: []
scopeName: source.pinafore
